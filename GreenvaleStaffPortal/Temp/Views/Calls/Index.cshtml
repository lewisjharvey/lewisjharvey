@model IEnumerable<GreenvaleStaffPortal.Models.LoggedCall>
@{
    ViewBag.Title = "Calls";
    var grid = new WebGrid(Model, defaultSort: "CallTime", canPage: true, rowsPerPage: 10, canSort: true, ajaxUpdateContainerId: "grid");
}

<div id="grid">
    <h2>Outstanding Calls</h2>
    @grid.GetHtml(fillEmptyRows: true, mode: WebGridPagerModes.All, firstText: "First", previousText: "Previous", nextText: "Next", lastText: "Last", numericLinksCount: 6,
    headerStyle: "header", rowStyle: "row", alternatingRowStyle: "altRow", footerStyle: "footer", htmlAttributes: new { cellspacing = "0" },
        columns: grid.Columns(
            grid.Column("CallNo", "Call No", format: (item) => Html.ActionLink((string)item.CallNo, "Details", new { id = item.CallNo }), style: "callNo"),
            grid.Column("SystemDescription", "System", format: @<text>@item.SystemDescription > @item.SubSystemDescription</text>, style: "system"),
            grid.Column("CallerDescription", "Caller", style: "caller"),
            grid.Column("SiteDescription", "Site", style: "site"),
            grid.Column("DateCalled", "Date Reported", format: @<text>@item.DateCalled.ToString("dd MMM yyy")</text>, style: "dateReported")
        )
    )
</div>